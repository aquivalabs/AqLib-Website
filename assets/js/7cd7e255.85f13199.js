"use strict";(self.webpackChunkAqLib_documentation_website=self.webpackChunkAqLib_documentation_website||[]).push([[6669],{28453:(e,t,d)=>{d.d(t,{R:()=>c,x:()=>l});var r=d(96540);const o={},i=r.createContext(o);function c(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(i.Provider,{value:t},e.children)}},59092:(e,t,d)=>{d.r(t),d.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>n});const r=JSON.parse('{"id":"apex/core/AqObj","title":"abstract AqObj","description":"Trigger framework and base class for all standard and custom object classes.","source":"@site/../documentation/apex/core/AqObj.md","sourceDirName":"apex/core","slug":"/apex/core/AqObj","permalink":"/apex/core/AqObj","draft":false,"unlisted":false,"editUrl":"https://bitbucket.org/aquiva/aqlib/src/main/documentation/../documentation/apex/core/AqObj.md","tags":[],"version":"current","lastUpdatedBy":"Artem Kniazev","lastUpdatedAt":1721818396000,"frontMatter":{"layout":"default","autogenerated":true},"sidebar":"documentation","previous":{"title":"AqLog","permalink":"/apex/core/AqLog"},"next":{"title":"AqObjAqTestObject","permalink":"/apex/core/AqObjAqTestObject"}}');var o=d(74848),i=d(28453);const c={layout:"default",autogenerated:!0},l="abstract AqObj",s={},n=[{value:"Properties",id:"properties",level:2},{value:"<code>protected TriggerRecords</code> \u2192 <code>List&lt;SObject&gt;</code>",id:"protected-triggerrecords--listsobject",level:3},{value:"Methods",id:"methods",level:2},{value:"Public methods",id:"public-methods",level:3},{value:"<code>public virtual void onTrigger()</code>",id:"public-virtual-void-ontrigger",level:5},{value:"Example",id:"example",level:6},{value:"Protected triggers methods",id:"protected-triggers-methods",level:3},{value:"<code>protected virtual void preValidate(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-prevalidatelistsobject-records",level:5},{value:"<code>protected virtual void preValidateDelete(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-prevalidatedeletelistsobject-records",level:5},{value:"<code>protected virtual void initialize(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-initializelistsobject-records",level:5},{value:"<code>protected virtual void calculate(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-calculatelistsobject-records",level:5},{value:"<code>protected virtual void validate(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-validatelistsobject-records",level:5},{value:"<code>protected virtual void postInsert(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-postinsertlistsobject-records",level:5},{value:"<code>protected virtual void postUpdate(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-postupdatelistsobject-records",level:5},{value:"<code>protected virtual void postUpsert(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-postupsertlistsobject-records",level:5},{value:"<code>protected virtual void postDelete(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-postdeletelistsobject-records",level:5},{value:"<code>protected virtual void postInsertUpsertDelete(List&lt;sObject&gt; records)</code>",id:"protected-virtual-void-postinsertupsertdeletelistsobject-records",level:5},{value:"Protected auxiliary methods",id:"protected-auxiliary-methods",level:3},{value:"<code>protected void addError(sObject record, sObjectField field, String errorString)</code>",id:"protected-void-adderrorsobject-record-sobjectfield-field-string-errorstring",level:5},{value:"<code>protected Boolean isInsert()</code>",id:"protected-boolean-isinsert",level:5},{value:"<code>protected Boolean isUpdate()</code>",id:"protected-boolean-isupdate",level:5},{value:"<code>protected Boolean isDelete()</code>",id:"protected-boolean-isdelete",level:5},{value:"<code>protected Boolean isUndelete()</code>",id:"protected-boolean-isundelete",level:5},{value:"<code>protected List&lt;sObject&gt; oldRecords()</code>",id:"protected-listsobject-oldrecords",level:5},{value:"<code>protected sObject oldRecord(sObject record)</code>",id:"protected-sobject-oldrecordsobject-record",level:5},{value:"<code>protected object oldValue(sObject record, sObjectField field)</code>",id:"protected-object-oldvaluesobject-record-sobjectfield-field",level:5},{value:"<code>protected Map&lt;Id,sObject&gt; getOldMap()</code>",id:"protected-mapidsobject-getoldmap",level:5},{value:"Protected validation methods",id:"protected-validation-methods",level:3},{value:"<code>protected void require(sObject record, sObjectField field, Boolean condition, String errorMessage)</code>",id:"protected-void-requiresobject-record-sobjectfield-field-boolean-condition-string-errormessage",level:5},{value:"<code>protected void requireFields(sObject record, Set&lt;sObjectField&gt; fields)</code>",id:"protected-void-requirefieldssobject-record-setsobjectfield-fields",level:5},{value:"<code>protected void requireField(sObject record, sObjectField field)</code>",id:"protected-void-requirefieldsobject-record-sobjectfield-field",level:5},{value:"<code>protected void requireTogether(sObject record, Set&lt;SObjectField&gt; fields)</code>",id:"protected-void-requiretogethersobject-record-setsobjectfield-fields",level:5},{value:"<code>protected void validateString(sObject record, sObjectField field, String dataType, Boolean required, Integer maxLength)</code>",id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype-boolean-required-integer-maxlength",level:5},{value:"<code>protected void validateString(sObject record, sObjectField field, String dataType, Boolean required)</code>",id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype-boolean-required",level:5},{value:"<code>protected void validateString(sObject record, sObjectField field, String dataType)</code>",id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype",level:5},{value:"<code>protected void validatePattern(sObject record, sObjectField field, Boolean required, String regEx, String patternLabel)</code>",id:"protected-void-validatepatternsobject-record-sobjectfield-field-boolean-required-string-regex-string-patternlabel",level:5},{value:"<code>protected void validateInteger(sObject record, sObjectField field, Boolean required, Integer min, Integer max)</code>",id:"protected-void-validateintegersobject-record-sobjectfield-field-boolean-required-integer-min-integer-max",level:5},{value:"<code>protected Boolean isChangedField(sObject record, sObjectField field)</code>",id:"protected-boolean-ischangedfieldsobject-record-sobjectfield-field",level:5},{value:"<code>protected Boolean isChangedAnyField(sObject record, Set&lt;sObjectField&gt; fields)</code>",id:"protected-boolean-ischangedanyfieldsobject-record-setsobjectfield-fields",level:5},{value:"<code>protected Boolean isChangedFieldFrom(sObject record, sObjectField field, object fromValue)</code>",id:"protected-boolean-ischangedfieldfromsobject-record-sobjectfield-field-object-fromvalue",level:5},{value:"<code>protected Boolean isChangedFieldTo(sObject record, sObjectField field, object toValue)</code>",id:"protected-boolean-ischangedfieldtosobject-record-sobjectfield-field-object-tovalue",level:5},{value:"<code>protected Boolean isChangedFieldToNonNull(sObject record, sObjectField field)</code>",id:"protected-boolean-ischangedfieldtononnullsobject-record-sobjectfield-field",level:5}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",h6:"h6",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:["[ This file is autogenerated from apexdoc ]","\n",(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"abstract-aqobj",children:"abstract AqObj"})}),"\n",(0,o.jsx)(t.p,{children:"Trigger framework and base class for all standard and custom object classes."}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Group"})," apex/core"]}),"\n",(0,o.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,o.jsxs)(t.h3,{id:"protected-triggerrecords--listsobject",children:[(0,o.jsx)(t.code,{children:"protected TriggerRecords"})," \u2192 ",(0,o.jsx)(t.code,{children:"List<SObject>"})]}),"\n",(0,o.jsx)(t.p,{children:"Returns relevant set of records for processing in the trigger This includes management of errored records within the same instantiation, so that error records aren't presented to methods for downstream processing."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,o.jsx)(t.h3,{id:"public-methods",children:"Public methods"}),"\n",(0,o.jsx)(t.h5,{id:"public-virtual-void-ontrigger",children:(0,o.jsx)(t.code,{children:"public virtual void onTrigger()"})}),"\n",(0,o.jsxs)(t.p,{children:["Entry method called from the trigger itself Extend your SObject trigger handler class from ",(0,o.jsx)(t.a,{href:"/apex/core/AqObj",children:"AqObj"})," (e.g. AccountObj). Create the corresponding ",(0,o.jsx)(t.code,{children:".trigger"})," class and call ",(0,o.jsx)(t.a,{href:"#public-virtual-void-ontrigger",children:"onTrigger()"})," method. All the protected triggers methods mentioned below gets ",(0,o.jsx)(t.a,{href:"#protected-triggerrecords--listsobject",children:"TriggerRecords"})," list as a parameter. ",(0,o.jsx)(t.code,{children:"Account.trigger"}),":"]}),"\n",(0,o.jsx)(t.h6,{id:"example",children:"Example"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-apex",children:"trigger Account on Account (before insert, before update, after update) {\n      new AccountObj().onTrigger();\n}\n//\n// In your handler, override required protected trigger method (`preValidateDelete()` |\n// `preValidate()` | `initialize()` | `calculate()` | `validate()` |\n// `postInsertUpsertDelete()` | `postInsert()` | `postUpsert()` | `postUpdate()` | `postDelete()`)\n// and put your trigger logic inside, e.g.:\n//\nprotected override void postUpdate(List<SObject> records) {\n     this.updateAccountFields(records);\n}\n"})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h3,{id:"protected-triggers-methods",children:"Protected triggers methods"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-prevalidatelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void preValidate(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate before any calculation is done -- to validate any values that must be correct before any calculation"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-prevalidatedeletelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void preValidateDelete(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any pre-delete validation to potentially prevent deletion"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-initializelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void initialize(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Initialize values on a new record"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-calculatelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void calculate(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Calculate values on a new or updated record"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-validatelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void validate(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate all values after calculations have taken place"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-postinsertlistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void postInsert(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any processing that should happen only after insert (but not after update or delete)"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-postupdatelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void postUpdate(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any processing that should happen only after update (but not after insert or delete)"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-postupsertlistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void postUpsert(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any processing that should happen after insert OR update (but not after delete)"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-postdeletelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void postDelete(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any processing that should happen after delete"}),"\n",(0,o.jsx)(t.h5,{id:"protected-virtual-void-postinsertupsertdeletelistsobject-records",children:(0,o.jsx)(t.code,{children:"protected virtual void postInsertUpsertDelete(List<sObject> records)"})}),"\n",(0,o.jsx)(t.p,{children:"Do any processing that should happen after insert, update, or delete"}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h3,{id:"protected-auxiliary-methods",children:"Protected auxiliary methods"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-adderrorsobject-record-sobjectfield-field-string-errorstring",children:(0,o.jsx)(t.code,{children:"protected void addError(sObject record, sObjectField field, String errorString)"})}),"\n",(0,o.jsx)(t.p,{children:"Add error to a record"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-isinsert",children:(0,o.jsx)(t.code,{children:"protected Boolean isInsert()"})}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-isupdate",children:(0,o.jsx)(t.code,{children:"protected Boolean isUpdate()"})}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-isdelete",children:(0,o.jsx)(t.code,{children:"protected Boolean isDelete()"})}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-isundelete",children:(0,o.jsx)(t.code,{children:"protected Boolean isUndelete()"})}),"\n",(0,o.jsx)(t.h5,{id:"protected-listsobject-oldrecords",children:(0,o.jsx)(t.code,{children:"protected List<sObject> oldRecords()"})}),"\n",(0,o.jsx)(t.p,{children:"Return old records"}),"\n",(0,o.jsx)(t.h5,{id:"protected-sobject-oldrecordsobject-record",children:(0,o.jsx)(t.code,{children:"protected sObject oldRecord(sObject record)"})}),"\n",(0,o.jsx)(t.p,{children:"Return old record"}),"\n",(0,o.jsx)(t.h5,{id:"protected-object-oldvaluesobject-record-sobjectfield-field",children:(0,o.jsx)(t.code,{children:"protected object oldValue(sObject record, sObjectField field)"})}),"\n",(0,o.jsx)(t.p,{children:"Return old field value"}),"\n",(0,o.jsx)(t.h5,{id:"protected-mapidsobject-getoldmap",children:(0,o.jsx)(t.code,{children:"protected Map<Id,sObject> getOldMap()"})}),"\n",(0,o.jsx)(t.p,{children:"Return old records"}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h3,{id:"protected-validation-methods",children:"Protected validation methods"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-requiresobject-record-sobjectfield-field-boolean-condition-string-errormessage",children:(0,o.jsx)(t.code,{children:"protected void require(sObject record, sObjectField field, Boolean condition, String errorMessage)"})}),"\n",(0,o.jsx)(t.p,{children:"Works like an assert to add error if condition is not met"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-requirefieldssobject-record-setsobjectfield-fields",children:(0,o.jsx)(t.code,{children:"protected void requireFields(sObject record, Set<sObjectField> fields)"})}),"\n",(0,o.jsx)(t.p,{children:"Required the record to have values set on all specified fields"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-requirefieldsobject-record-sobjectfield-field",children:(0,o.jsx)(t.code,{children:"protected void requireField(sObject record, sObjectField field)"})}),"\n",(0,o.jsx)(t.p,{children:"Required the record to have values set on the specified field"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-requiretogethersobject-record-setsobjectfield-fields",children:(0,o.jsx)(t.code,{children:"protected void requireTogether(sObject record, Set<SObjectField> fields)"})}),"\n",(0,o.jsx)(t.p,{children:"If any are not-null, then all must be not-null"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype-boolean-required-integer-maxlength",children:(0,o.jsx)(t.code,{children:"protected void validateString(sObject record, sObjectField field, String dataType, Boolean required, Integer maxLength)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate a string against specified type"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype-boolean-required",children:(0,o.jsx)(t.code,{children:"protected void validateString(sObject record, sObjectField field, String dataType, Boolean required)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate a string against specified type"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-validatestringsobject-record-sobjectfield-field-string-datatype",children:(0,o.jsx)(t.code,{children:"protected void validateString(sObject record, sObjectField field, String dataType)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate a string against specified type"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-validatepatternsobject-record-sobjectfield-field-boolean-required-string-regex-string-patternlabel",children:(0,o.jsx)(t.code,{children:"protected void validatePattern(sObject record, sObjectField field, Boolean required, String regEx, String patternLabel)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate a string to meet specified pattern"}),"\n",(0,o.jsx)(t.h5,{id:"protected-void-validateintegersobject-record-sobjectfield-field-boolean-required-integer-min-integer-max",children:(0,o.jsx)(t.code,{children:"protected void validateInteger(sObject record, sObjectField field, Boolean required, Integer min, Integer max)"})}),"\n",(0,o.jsx)(t.p,{children:"Validate an integer for range"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-ischangedfieldsobject-record-sobjectfield-field",children:(0,o.jsx)(t.code,{children:"protected Boolean isChangedField(sObject record, sObjectField field)"})}),"\n",(0,o.jsx)(t.p,{children:"Change detection Returns true if field is changed in this trigger context"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-ischangedanyfieldsobject-record-setsobjectfield-fields",children:(0,o.jsx)(t.code,{children:"protected Boolean isChangedAnyField(sObject record, Set<sObjectField> fields)"})}),"\n",(0,o.jsx)(t.p,{children:"Returns true if any specified field is changed in this trigger context"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-ischangedfieldfromsobject-record-sobjectfield-field-object-fromvalue",children:(0,o.jsx)(t.code,{children:"protected Boolean isChangedFieldFrom(sObject record, sObjectField field, object fromValue)"})}),"\n",(0,o.jsx)(t.p,{children:"Returns true if field changed from specified value to some other value"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-ischangedfieldtosobject-record-sobjectfield-field-object-tovalue",children:(0,o.jsx)(t.code,{children:"protected Boolean isChangedFieldTo(sObject record, sObjectField field, object toValue)"})}),"\n",(0,o.jsx)(t.p,{children:"Returns true if field changed to specified value"}),"\n",(0,o.jsx)(t.h5,{id:"protected-boolean-ischangedfieldtononnullsobject-record-sobjectfield-field",children:(0,o.jsx)(t.code,{children:"protected Boolean isChangedFieldToNonNull(sObject record, sObjectField field)"})}),"\n",(0,o.jsx)(t.p,{children:"Returns true if field changed and to a non-null value"}),"\n",(0,o.jsx)(t.hr,{})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);